window.ONNIT=window.ONNIT||{},window.ONNIT.hubspot=function(){var e=window._hsq=window._hsq||[],n="000005647484",r="000005647485",t="000005669151",o="000005715265",i="000006018461",a="000006109206",s="000006173309";function u(){return!(null!==window.document.cookie.match(/(^|; )ATLAS_ACCESS_MASQUERADE=1(;|$)/))}function c(n,r){u()&&e.push(Array.prototype.slice.call(arguments))}function d(e,n){var r={id:e};(n=n||!1)&&(r.value=n),c("trackEvent",r)}function g(e){c("identify",e)}return{identify:g,emailListSignup:function(e,n,r,t){if("string"!=typeof e||!e.trim().length)return!1;if(!(n=n instanceof Array?n:[n]).length)return!1;var i={email:e};"string"==typeof r&&r.trim().length&&(i.lead_source_new=r);for(var a=0;a<n.length;++a)"string"==typeof n[a]&&n[a].trim().length&&(i[n[a]]=!0);return"object"!=typeof t||Array.isArray(t)||(i=Object.assign(i,t)),g(i),d(o),console.debug("HubSpot: email list signup successful. Email=%s ListNames=%s LeadSource=%s ContactProperties=%s",e,n,r,JSON.stringify(t)),window.ONNIT&&window.ONNIT.googleTagManager&&window.ONNIT.googleTagManager.newsletterRegistered(r||"onnit:newsletter"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"fbqTrack",fbqEvent:"Lead",fbqData:{}}),!0},newCustomerCreated:function(e){g(e),d(i)},productAddedToCart:function(){d(n)},productRemovedFromCart:function(){d(r)},purchaseCompleted:function(e){d(t,e)},digitalProductDownloaded:function(){d(a)},shoppingCartViewed:function(){d(s)}}}(),window.ONNIT.personalize=function(){var e=function(){if(!window.onnit_context||!window.onnit_context.personalize)throw new Error("Personalize: configurations are missing.");if(!window.onnit_context.personalize.enable)throw new Error("Personalize: Failed to make request, personalize is not enabled.");if(!window.onnit_context.personalize.api_url)throw new Error("Personalize: Failed to make request, `api_url` is missing.");if(!window.onnit_context.personalize.api_key)throw new Error("Personalize: Failed to make request, `api_key` is missing.");if(!window.onnit_context.personalize.session_id)throw new Error("Personalize: Failed to make request, `session_id` is missing.");return window.onnit_context.personalize},n=function(n){var r={};if(n||(n=e()),n.country&&(r.COUNTRY=n.country),n.device&&(r.DEVICE=n.device),window.ONNIT.googleTagManager&&ONNIT.googleTagManager.getFromDataLayer){var t=ONNIT.googleTagManager.getFromDataLayer("cg1");t&&(r.PAGE_TYPE=t.replace(/\W+/g,"_").toUpperCase());var o=[ONNIT.googleTagManager.getFromDataLayer("cg2"),ONNIT.googleTagManager.getFromDataLayer("cg3")].filter((function(e){return e}));o.length>0&&(r.BLOG_CATEGORIES=o.map((function(e){return e.replace(/\W+/g,"_").toUpperCase()})).join("|"))}return r},r=function(e){var n=new XMLHttpRequest;n.open(e.method,e.url),n.timeout=e.timeout||1500;var r=e.headers||{};for(var t in r)n.setRequestHeader(t,r[t]);e.success&&(n.onload=function(){e.success(JSON.parse(this.responseText))}),e.error&&(n.onerror=e.error,n.onabort=e.error,n.ontimeout=e.error),n.send(e.data)},t=function(e,n,r){return{url:r.api_url+e,method:"POST",data:JSON.stringify(n),headers:{"X-Api-Key":r.api_key,"Content-Type":"application/json"},timeout:1500}};return{pushEvent:function(o,i){var a,s=e(),u=n(s),c={Event:i,SessionId:s.session_id,EventType:o};for(var d in s.user_id&&(c.UserId=s.user_id),u)a=d.toLowerCase().split("_").map((function(e,n){return 0===n?e:e.charAt(0).toUpperCase()+e.substring(1)})).join(""),c.Event[a]=u[d];r(t("/events",c,s))},getRanking:function(o,i){var a=e(),s={userId:a.user_id||a.session_id,inputList:o,context:n(a)},u=t("/ranking",s,a);if(!i||!i.success)throw new Error("Personalize: getRanking requires a success callback");u.success=i.success,u.error=i.error,r(u)}}}();
//# sourceMappingURL=/onnit/maps/onnit.tracking-HbwN1gQC0j9Rz9IS643d2910da75.js.map
